import _sha256
import random

bit_length = 100


def get_hash(string):
    return _sha256.sha256(string.encode()).hexdigest()


def alice(num):
    num = bin(num)[2:]
    num = '0' * (bit_length - len(num)) + num

    sub_strings = []

    for i in range(len(num)):
        if num[i] == '1':
            sub_strings.append(get_hash(num[:i + 1]))

    return sub_strings


def bob(num):
    num = bin(num)[2:]
    num = '0' * (bit_length - len(num)) + num

    sub_strings = []

    for i in range(len(num)):
        if num[i] == '0':
            string = num[:i + 1][:-1] + '1'
            sub_strings.append(get_hash(string))

    return sub_strings


a = set(alice(183473))
b = set(bob(183448))

valid = 0

for i in range(100):
    num_a = random.randint(0, 999999999)
    num_b = random.randint(0, 999999999)

    real = num_a > num_b
    est = len(set(alice(num_a)).intersection(set(bob(num_b)))) > 0

    if real == est:
        valid += 1

print(valid)

a = {'63bfb8373234a3f22e6c14fd5f790544e4a63bc01472f01f119aecb8941d040b', 'e9b5c71e6874a33c54f95b39b42f39ef182dc76cc7338159d0617da817783ac8', '5b509ca7f0befda6df2f69ccabde4fb4ba662c47b575a64f5bc9fe4135bed31e', '3e88cbd17f70ce4affa0d5a73cfb918a715ae1cbfda235edf432230a5f0e94fa', '8a080cea809d1b9d33b541f3498b1b6366ffc66df75423108947085057cf2f99', '938db8c9f82c8cb58d3f3ef4fd250036a48d26a712753d2fde5abd03a85cabf4', '3a6800b72005a61f7db2ff0faeff7e3f6faacbc2bd12700d5da712b35adc428b', 'a2f3b185cbe2eb16f5bae18f1bf7548d7589cfb97902c3bb14b32c57c2f9885a', '487f865dddd9291bc44ab1ff2da831ed4cd02887c61653190ffa1cbbcae74fe4', '929b5cded39602c3bb9e3107e09a922506f4e76fe0861b8acf17c8afd7e02519', '79827d0c0bce92fd489764132b6d5bf96c5a8734ee5ec9594d95d441a916d040', '56313361669005caf90bd2f1c7e25fa23b47c02ac48d30ca22f1bafb501470fe', '108201f2b3e991373cad5faf48f24dad090d9e9a1b3e425f1d985dd6f0362ba9', '5c855973420ef86771bd7aede2f163523f2aa8731a9f8e37462318005cc6600d', 'f9be7c5c354dc0efb05ba7f4171a809d1ff02d957b3172d5f968479436d26129', 'ea4b3c5fadb8ce97bac6795230565c35239f04fd7629d65f1207487cab6ea247', 'cfff9fdefa4cb09829bdb1260bd50dad88c4144ab029f0f33795ceaa0003519d', '5272c1d6a390651e50020e0108575c4ba34e61faa967fd364238efd859f049d9', '06f6aea14bc745e9db6b9e0397a0c127bb3deb6f4243781cb8b4083e1cae87e2', '999f7ef3274e9c8eab482bdbf0f196e80520b6aeda886924a868c845f5199b5b', 'f582335e6afa1afccef29e5fdcd3861951e4ed0a92263989de83dc6441dc9c8e', 'c5edbf672ce83639fb2e873000190fe57cdd0102cb5bd2c173f1a89d0514baa2', '796eaa65982d8fb57463ada8a599403820e93b67afa96341837d19cb65cefe16', 'c5603f3c6ff31202eb9a6efa0e59aeb8b1f845bb26dda14f315ccafc60a4b34b', '153387dc7ca626f50cf7ddcbfeebb85eb8fc422d3bc4fa42ab30bec474559fff', 'ce28ede3e27b92cf07135c5af8cae590f882da0724753989eddcbaff8d84a08a', '73b10283e03ee335f6c6e073d2c1e4012c3b68797d79ffe2a3ac7e508ba5b125', '0aa9bf5695856721d070efc455ec085c2e6c3f47fdf9fe703ef6d2fdaff4a49a', '5bedd317328c9ed79ecd3aecee74d37f97813cb4ce61ef3402eb388fb369fa86', '1bbd3ac167295d18cbac4fe50409cfde0624b39601c305b9c0d422bfa088b20c', '49626450450711647e8e6d2fa656170bfc21b2fc32d90fb9c0420a98fbf0aac3', '9206582431efea7fe90d0c418da540c6724980066d2bc3e587c842d30243ac9e', 'a46a4e2e564a4bd3f46c924c5276671fdd422886756dde2de9ee86d35a419239', 'cd74bc4b6296e73f8a47165cf6829685636c4b53515bf8987150bbe83de556bd', '21e17b5b38377223cf27cd3364d81d760c2753c095a1ac546075c7a34674df9d', '702f1acb3a6ee6414a167c37d6a9bd0246e00b41bf89db5cd14c3210187eebfa', 'bf963df1fbb813bd1fda37dddad5378c425dc4560f71436f97de5326e6bdfeed', 'd4e74b512406bf11f3cad71b0ec9b09d030c9ad49ca950a589366c66ba8f928b', '61ae4d6df0557ec597a44c89651ff5a4cd8d6432eae988e8e3fdbe2726a683b2', '1b59bc6c29114eaa8698e1d936c7969847a59e33bcb176fce8cecf209e626725', '3366cb6ed0cfeecb3e97a3f5eddcbfd6408f1ae3022056430a08b5795adbab5a', '043fb60360b1dd1e7bbaddb6b30a9a3302359e64d82b2c48ca513bbb7297ec71', '956bd86e17e84fe76e39a955e49a1a6ea21250753bbd1b764ba52e4616cfcdab', '80b1da7c6b498b20764be4b5f9518ad600bcefd52cb5b50e32f3574f8c7ed220', 'dcce09048a1d53803de34bb3979012769517102967c865596609e8690f57a5b9', '9d45f6aaaee78eab7ff07cc055f1d4420633a22a35b29bb234f3ff23f819a766', 'e8e1af18611406ce5136e89161c72d14506180fda4e9989833c33bcc575182e9', 'f5838584c7557f52876905a12d45efc977a57523ce1f0f35878e745f6992d72d', 'aacd154a3fb0cea5f3dc826d2e5388dc1297f218bc5c909e3d8bdfbc79d3ffbd', '5ae79da171f0e3f14ce4c584f22aa8f2606f728f704fefc15351000cca19803e', '63f085295be326c89b535b96c64c19d1029b61420e4ce301b88870d890d19022', '4b7d5ec20a5030b22902422ead2be7ae67fdd9e9e417e52b4ffa052ecad7d2dc', 'e29299ac261a33fec7b107f03a4e8f2ad25b1971611e248c5566601ddc3e428e', 'f2901eceefac9c00f2c07f2d399a7df9045346142bb89d87c0d0a692aa720431', '50ac8e817eb4f7b81ad1b537f0e22782fe112f8a3a7bec20e8cd2ee307356c00', 'a03a606f29be6a1667f30afbc2d5ae2be29155dc7cfe39b7a3af690384d75e55', '8fba476813c18506292476df958cf552ed0214374c52c7684fedf014e34c3ba3', '0be3d1c63965a9bbb3df0ccf7efd573b510410a3cfa51d0ff54d0b3b341d0f50', '5d8633a2113790f91cca92b80f1fdf830c17332acdc65721d634af401921a51d', 'b1ea7e0314b4c062576b7e01ecf6f182ddbe5d06e72002201254bbbb6e1c361c', 'b946f31f0665ec450810ac8c50129b9b80dd07e60eb039f6dc1f4630937d6d1f', '797fb12ce192c827c15c872f9fadec34359164c042a19189eee1612185ff38bc', 'f9acd547fa6a41041457af05bae09cc1101ae76ada3815d32dfddd794afb9062', '9b43769b4397a3f152ab5595824b0a0b6fa6d73711df587a4f810f22db791829', '90708830456f6551387105b56e398c6c5f6553d4772156a8448dbd66745a48f8', '8179154d3db1922c66e58a3a07dc8afb8d96ffe4c1ce040f2c802c83deb03e4b', '53c90b0d1a333db582abed042eea4ec01e6122d9bb46773c19ba78a3eaacd708', '2fb6ffea6b7db405ef9a71e4bb640ced727a4856043b2f643bd08344e4078297', '6c94927fbdb629244084aea9a11f60497d7c1687ef31fc447722d1493a5f5306', 'bc6bd301c43bf9c2d02e0cfd98368869d1fffbcb1d2d78d750b99f1b2ea07570', '052248decbb05525f5bb0202ecdab249dcf906ac01e344b1367e6e223c198c0f', '0a0ae86012445384d20eea1cd77d049827c0dad97b52441534506347f5f2a14d', '30fa499cbc424ed6069f28537f8a8829f819a8093ac7b985110691a370ee7497', '27a485a86abc8cd05d11c4127e58fc3a7b2f9ff808745577d2acf4953809427d', '0962ef7a75244c91ec98325a82719a53e9a1127f05f81ebf8df147a33c236b19', 'e9e3ea769463889b78b574ac07b4cb0eaaed86ddb248e4e2c224747d65fb5815', 'f41c9d3e60d27c200036bb50fbd0ef8d191f34feff141d75f96e07f285d63c52', '691ef21ec474433ecc49766c020f1acc094bc54d121d5921144ee800b24839d0', 'b7ab01467f248821b2442b4f7f941e8d24cb3f4650e87129a01c30f072862e4e', '775869e98e22d4d69a1a0465ebf534aefaeda5953e33d98578d8c8887109c606', '1719aad9e40dd8773b11cfed45b3fb8f0f4a2dae1d6a569807d74fd71148377c', '28d0b273e2a425d8bb743762dd5fc534cdf97214f5d3b8a42153ab60e7606427', '077b3c00138f786b66363dcc2e13be07018d5ddaacbc8eb6a81907b40ab0cfee', '2f58fe39681e4aeb806b1311d9f8941909351dcd7e094a9fc8ec22da4a448574', '0c538235885bd2f98f7e698b7e47e6ac1a37016a58df941e64c88591534f1438', '1edfd60d13fcd10145ec1df8386b2b9686a0272fbde7d021b0c254b86f8ae907', 'e60d831410cff4d5091f41604bc2da4487151ae67a7a821cb3388796703ec9c2', '5ae3eb2d824c897af049f7fcc0898c260bb7d2512a50c5f2106e55c611cea438', 'aba791e69993418702167612ee72ef57c2be60e4971cd01d1fcca4b0609ec091', 'd35b050d3a283454db7936397fe89a52764b0c9d7c2b60b4ba1877a6083fe812', 'ba1b16c710867f4b870a727ae1c24f8594cf0d694412ed05b6da32e755393b3c', 'cbde78042e37f449e9e9097e94204890a835f278c85ce2d19b0fbb48b0d63d4e', 'cbcca0d930a643b30be43a591d8f5342fe066f5a6fd9521892e47288704b3e91', 'edd6a8384924b7768998fd9289215e4d0dd08fddd01b79144ab5588dd05d9ace', '6907601163f88c47c5565476d289d73fd3a2f5ac72571178d484489e26489c33', '87a902de3fc4a786249b0c80def7434506b804f9db3411a1c15d1a5ac3ebcf5e', 'be733545f81285776ca5bf9427ad31bb15ffd3961babb3f9d28cc8dfaf08de1f', '07fbd4dae28e11e49ec4c5f7e34e341b7135d17a6ad7c74f4bb624bb5e18be66', '92e3f792b034ae6ad39f3b6d2efc771187ac52dd90e8c202647bccdb0ef93660'}
b = set(bob(12349872398))

print(a.intersection(b))

